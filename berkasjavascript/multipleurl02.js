function getTrimmedLink(n){return n.length>30?n.substr(0,27)+"...":n}function enteredSingleURL(n){n.keyCode==13&&addFromSingleURL()}function addFromSingleURL(){var n=$("#SingleURL").val();addToResultingDiv(n)?$("#SingleURL").val("").focus():alert("No not a valid URL")}function URLWithoutExtension(n){var t=/[-a-zA-Z0-9:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9:%_\+.~#?&//=]*)/,i=new RegExp(t),r=n.match(i)?!0:!1;if(r)n=n.substr(0,n.lastIndexOf("/")),URLWithoutExtension(n);else return window.url=n;return url}function addToResultingDiv(n){var t=n;return n.indexOf("http://")!=0&&n.indexOf("https://")!=0&&(n="http://"+n),isValidURL(n)==!0?(window.ouo.links.push({href:n,text:t}),!0):!1}function isValidURL(n){var t=/^(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/;return t.test(n)}function openAll(){openLinks(window.ouo.links())}function openLinks(n){$.each(n,function(n,t){window.open(t.href,parseInt(gra(9999999999,999999999999)).toString())})}function gra(n,t){return Math.random()*(t-n)+n}function getTextAreaLinks(n,t){var e=new RegExp("\n","g"),u=document.getElementById("multipleURL").value.replace(e," ").replace(/\s{2,}/g," ").split(" "),f=u.length,i,r;if(n==!0){for(r=0;r<f;r++)i=u[r],t&&(i=URLWithoutExtension(i)),i&&(i.substr(0,7)!="http://"&&i.substr(0,8)!="https://"&&(i="http://"+i),window.open(i));return}for(r=0;r<f;r++)i=u[r],t&&(i=URLWithoutExtension(i)),i&&addToResultingDiv(i);$("#multipleURL").val("")}function removeExtenstions(){for(var r=new RegExp("\n","g"),i=document.getElementById("multipleURL").value.replace(r," ").replace(/\s{2,}/g," ").split(" "),u=i.length,t="",n=0;n<u;n++)s=i[n],s=URLWithoutExtension(s),t+=s,t+="\n";$("#multipleURL").val(""),window.ouo.linksWithoutExtensions(t)}function saveList(){var t,n;ouo.links().length>0&&(t=prompt("Please enter list name",""),t!=null&&t!=""&&(n=window.isLI==!0?window.lIUList==""?[]:JSON.parse(window.lIUList):store.get("savedList"),n||(n=[]),n.push({name:t,links:window.ouo.links()}),window.isLI==!0?(window.lIUList=JSON.stringify(n),saveLIUserSettingList()):store.set("savedList",n),getStoreList(),ouo.links.removeAll()))}function getStoreList(){var n=window.isLI==!0?window.lIUList==""?[]:JSON.parse(window.lIUList):store.get("savedList");n&&window.ouo.savedListLinks(n)}function getTrimmedListName(n){return n.length>89?n.substr(0,86)+"...":n}function saveLIUserSettingList(){$.post("home/SaveUserSetting",{setting:window.lIUList})}$(document).ready(function(){$("#SingleURL").focus(),$("#homeItem").addClass("active"),$(document).ajaxStart($.blockUI).ajaxStop($.unblockUI),window.ouo=new vm,ko.applyBindings(window.ouo,document.getElementById("indexPage")),getStoreList()});var vm=function(){var n=this;this.links=ko.observableArray(),this.removeCurrentURL=function(t){n.links.remove(t)},this.removeAll=function(){n.links.removeAll()},this.linksWithoutExtensions=ko.observable(),this.savedListLinks=ko.observableArray(),this.openListLinks=function(n){openLinks(n.links)},this.removeListLinks=function(t){confirm("Are you sure you want to remove "+t.name+" list?")&&(n.savedListLinks.remove(t),window.isLI==!0?(window.lIUList=JSON.stringify(window.ouo.savedListLinks()),saveLIUserSettingList()):store.set("savedList",window.ouo.savedListLinks()))},this.loadListLinks=function(t){n.links($.extend(!0,[],t.links))}}
